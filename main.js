(()=>{"use strict";const e=e=>{let i=0,t=!1;const n=e;return{isSunk:()=>(t=i==n,t),hit:()=>++i}},i=()=>{const i=(()=>{const i=[],t=[];for(let e=0;e<10;e++){t[e]=[];for(let i=0;i<10;i++)t[e][i]={hasShip:!1,nearShip:!1,shipName:null,wasShot:!1}}return{grid:t,place:(n,a,r,s)=>{if("patrol"==s){for(let e=0;e<1;e++)if("v"==r){if(0==t[n+e][a].hasShip&&0==t[n+e][a].nearShip)continue;if(1==t[n+e][a].hasShip||1==t[n+e][a].nearShip)return}else{if(0==t[n][a+e].hasShip&&0==t[n][a+e].nearShip)continue;if(1==t[n][a+e].hasShip||1==t[n][a+e].nearShip)return}const d=e(1);i.push({ship:d,shipName:s});for(let e=0;e<1;e++)"v"==r?(t[n+e][a].hasShip=!0,t[n+e][a].shipName=d,[n+e]in t&&[a+1]in t[n+e]&&(t[n+e][a+1].nearShip=!0),[n+e]in t&&[a-1]in t[n+e]&&(t[n+e][a-1].nearShip=!0),[n+1]in t&&[a]in t[n+1]&&(t[n+1][a].nearShip=!0),[n-1]in t&&[a]in t[n-1]&&(t[n-1][a].nearShip=!0)):(t[n][a+e].hasShip=!0,t[n][a+e].shipName=d,[n+e]in t&&[a+1]in t[n+e]&&(t[n+e][a+1].nearShip=!0),[n+e]in t&&[a-1]in t[n+e]&&(t[n+e][a-1].nearShip=!0),[n+1]in t&&[a]in t[n+1]&&(t[n+1][a].nearShip=!0),[n-1]in t&&[a]in t[n-1]&&(t[n-1][a].nearShip=!0));return s}if("submarine"==s){if("h"==r&&a>=9)return;if("v"==r&&n>=9)return;for(let e=0;e<2;e++)if("v"==r){if(0==t[n+e][a].hasShip&&0==t[n+e][a].nearShip)continue;if(1==t[n+e][a].hasShip||1==t[n+e][a].nearShip)return}else{if(0==t[n][a+e].hasShip&&0==t[n][a+e].nearShip)continue;if(1==t[n][a+e].hasShip||1==t[n][a+e].nearShip)return}const d=e(2);i.push({ship:d,shipName:s});for(let e=0;e<2;e++)"v"==r?(t[n+e][a].hasShip=!0,t[n+e][a].shipName=d,[n+e]in t&&[a+1]in t[n+e]&&(t[n+e][a+1].nearShip=!0),[n+e]in t&&[a-1]in t[n+e]&&(t[n+e][a-1].nearShip=!0),[n+2]in t&&[a]in t[n+2]&&(t[n+2][a].nearShip=!0),[n-1]in t&&[a]in t[n-1]&&(t[n-1][a].nearShip=!0)):(t[n][a+e].hasShip=!0,t[n][a+e].shipName=d,[n+1]in t&&[a+e]in t[n+1]&&(t[n+1][a+e].nearShip=!0),[n-1]in t&&[a+e]in t[n-1]&&(t[n-1][a+e].nearShip=!0),[n]in t&&[a+2]in t[n]&&(t[n][a+2].nearShip=!0),[n]in t&&[a-1]in t[n]&&(t[n][a-1].nearShip=!0));return s}if("destroyer"==s){if("h"==r&&a>=8)return;if("v"==r&&n>=8)return;for(let e=0;e<3;e++)if("v"==r){if(0==t[n+e][a].hasShip&&0==t[n+e][a].nearShip)continue;if(1==t[n+e][a].hasShip||1==t[n+e][a].nearShip)return}else{if(0==t[n][a+e].hasShip&&0==t[n][a+e].nearShip)continue;if(1==t[n][a+e].hasShip||1==t[n][a+e].nearShip)return}const d=e(3);i.push({ship:d,shipName:s});for(let e=0;e<3;e++)"v"==r?(t[n+e][a].hasShip=!0,t[n+e][a].shipName=d,[n+e]in t&&[a+1]in t[n+e]&&(t[n+e][a+1].nearShip=!0),[n+e]in t&&[a-1]in t[n+e]&&(t[n+e][a-1].nearShip=!0),[n+3]in t&&[a]in t[n+3]&&(t[n+3][a].nearShip=!0),[n-1]in t&&[a]in t[n-1]&&(t[n-1][a].nearShip=!0)):(t[n][a+e].hasShip=!0,t[n][a+e].shipName=d,[n+1]in t&&[a+e]in t[n+1]&&(t[n+1][a+e].nearShip=!0),[n-1]in t&&[a+e]in t[n-1]&&(t[n-1][a+e].nearShip=!0),[n]in t&&[a+3]in t[n]&&(t[n][a+3].nearShip=!0),[n]in t&&[a-1]in t[n]&&(t[n][a-1].nearShip=!0));return s}if("battleship"==s){if("h"==r&&a>=7)return;if("v"==r&&n>=7)return;for(let e=0;e<4;e++)if("v"==r){if(0==t[n+e][a].hasShip&&0==t[n+e][a].nearShip)continue;if(1==t[n+e][a].hasShip||1==t[n+e][a].nearShip)return}else{if(0==t[n][a+e].hasShip&&0==t[n][a+e].nearShip)continue;if(1==t[n][a+e].hasShip||1==t[n][a+e].nearShip)return}const d=e(4);i.push({ship:d,shipName:s});for(let e=0;e<4;e++)"v"==r?(t[n+e][a].hasShip=!0,t[n+e][a].shipName=d,[n+e]in t&&[a+1]in t[n+e]&&(t[n+e][a+1].nearShip=!0),[n+e]in t&&[a-1]in t[n+e]&&(t[n+e][a-1].nearShip=!0),[n+4]in t&&[a]in t[n+4]&&(t[n+4][a].nearShip=!0),[n-1]in t&&[a]in t[n-1]&&(t[n-1][a].nearShip=!0)):(t[n][a+e].hasShip=!0,t[n][a+e].shipName=d,[n+1]in t&&[a+e]in t[n+1]&&(t[n+1][a+e].nearShip=!0),[n-1]in t&&[a+e]in t[n-1]&&(t[n-1][a+e].nearShip=!0),[n]in t&&[a+4]in t[n]&&(t[n][a+4].nearShip=!0),[n]in t&&[a-1]in t[n]&&(t[n][a-1].nearShip=!0));return s}if("carrier"==s){if("h"==r&&a>=6)return;if("v"==r&&n>=6)return;for(let e=0;e<5;e++)if("v"==r){if(0==t[n+e][a].hasShip&&0==t[n+e][a].nearShip)continue;if(1==t[n+e][a].hasShip||1==t[n+e][a].nearShip)return}else{if(0==t[n][a+e].hasShip&&0==t[n][a+e].nearShip)continue;if(1==t[n][a+e].hasShip||1==t[n][a+e].nearShip)return}const d=e(5);i.push({ship:d,shipName:s});for(let e=0;e<5;e++)"v"==r?(t[n+e][a].hasShip=!0,t[n+e][a].shipName=d,[n+e]in t&&[a+1]in t[n+e]&&(t[n+e][a+1].nearShip=!0),[n+e]in t&&[a-1]in t[n+e]&&(t[n+e][a-1].nearShip=!0),[n+5]in t&&[a]in t[n+5]&&(t[n+5][a].nearShip=!0),[n-1]in t&&[a]in t[n-1]&&(t[n-1][a].nearShip=!0)):(t[n][a+e].hasShip=!0,t[n][a+e].shipName=d,[n+1]in t&&[a+e]in t[n+1]&&(t[n+1][a+e].nearShip=!0),[n-1]in t&&[a+e]in t[n-1]&&(t[n-1][a+e].nearShip=!0),[n]in t&&[a+5]in t[n]&&(t[n][a+5].nearShip=!0),[n]in t&&[a-1]in t[n]&&(t[n][a-1].nearShip=!0));return s}},receiveAttack:(e,i)=>1==t[e][i].hasShip?(t[e][i].wasShot=!0,t[e][i].shipName.hit(),"hit"):(t[e][i].wasShot=!0,"miss"),checkAllSunk:()=>t.every((e=>e.filter((e=>null!=e.shipName)).every((e=>1==e.shipName.isSunk())))),placedShips:i}})();let t=null,n=[],a=[],r=0;const s=(e,i,t)=>0==t.Gameboard.grid[e][i].wasShot?"hit"==t.Gameboard.receiveAttack(e,i)?"valid hit attack":"valid miss attack":"invalid attack",d=e=>{if(0==n.length){let i=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());if(t=s(i,r,e),"valid hit attack"==t)n.push(i,r),a.push(i,r);else for(;"invalid attack"==t;)d(e)}else if(0==e.Gameboard.grid[n[0]][n[1]].shipName.isSunk()){let i,l;switch(r){case 0:i=n[0]+1,l=n[1],i<10?(t=s(i,l,e),"valid hit attack"==t?n[0]=i:"valid miss attack"==t?r++:(r++,d(e))):(r++,d(e));break;case 1:i=a[0]-1,l=a[1],i>=0?(t=s(i,l,e),"valid hit attack"==t?a[0]=i:"valid miss attack"==t?r++:(r++,d(e))):(r++,d(e));break;case 2:i=n[0],l=n[1]+1,l<10?(t=s(i,l,e),"valid hit attack"==t?n[1]=l:"valid miss attack"==t?r++:(r++,d(e))):(r++,d(e));break;case 3:i=a[0],l=a[1]-1,l>=0&&(t=s(i,l,e),"valid hit attack"==t&&(a[1]=l))}}else n=[],a=[],r=0,d(e)};return{Gameboard:i,attackPlayer:s,computerAttack:d,listOfShips:[]}};function t(e){e.dataTransfer.setData("text",e.target.id)}function n(e){"h"==e.target.getAttribute("data-orientation")?e.target.setAttribute("data-orientation","v"):e.target.setAttribute("data-orientation","h")}const a=["patrol","submarine","destroyer","battleship","carrier"],r=(e,i,t,n=e)=>{const o=document.querySelector(".player1 .shipsBoard"),c=document.querySelector(".player1 .attackBoard"),p=document.querySelector(".winner"),u=document.querySelector(".waiting");switch(t){case"pvcPlace":for(s(e,i,t,n);o.firstChild;)o.removeChild(o.firstChild);if(e.Gameboard.grid.forEach((t=>{t.forEach((n=>{const a=document.createElement("div");a.classList.add("cell");let s=e.Gameboard.grid.indexOf(t),d=t.indexOf(n);a.setAttribute("data-indexX",s),a.setAttribute("data-indexY",d),1==n.hasShip&&a.classList.add("hasShip"),1==n.wasShot&&0==n.hasShip&&a.classList.add("waterHit"),1==n.wasShot&&1==n.hasShip&&a.classList.add("shipHit"),null!=n.shipName&&1==n.shipName.isSunk()&&a.classList.add("shipSunk"),0==n.hasShip&&(a.addEventListener("drop",(function(t){t.preventDefault();let n=t.dataTransfer.getData("text"),a=document.getElementById(n).getAttribute("data-orientation"),s=t.target.getAttribute("data-indexX"),d=t.target.getAttribute("data-indexY"),l=e.Gameboard.place(Number(s),Number(d),a,n);e.listOfShips.push(l),r(e,i,"pvcPlace")})),a.addEventListener("dragover",(function(i){1==e.Gameboard.grid[i.target.getAttribute("data-indexX")][i.target.getAttribute("data-indexY")].hasShip||1==e.Gameboard.grid[i.target.getAttribute("data-indexX")][i.target.getAttribute("data-indexY")].nearShip?i.target.style.cursor="not-allowed":i.target.style.backgroundColor="rgba(0, 0, 255, 0.5)",i.preventDefault()})),a.addEventListener("dragleave",(function(e){e.target.style.backgroundColor="white"}))),o.appendChild(a)}))})),1==a.every((i=>e.listOfShips.includes(i)))){for(;u.firstChild;)u.removeChild(u.firstChild);p.innerHTML="Player 1",o.style.visibility="visible",c.style.visibility="visible";const t=document.createElement("div"),n=document.createElement("div");t.innerHTML="Your Ships Grid",n.innerHTML="Your Attack Grid",u.appendChild(t),u.appendChild(n),l(i),r(e,i,"pvc",e)}break;case"pvpPlace":for(s(e,i,t,n);o.firstChild;)o.removeChild(o.firstChild);n.Gameboard.grid.forEach((s=>{s.forEach((d=>{const l=document.createElement("div");l.classList.add("cell");let c=n.Gameboard.grid.indexOf(s),p=s.indexOf(d);l.setAttribute("data-indexX",c),l.setAttribute("data-indexY",p),1==d.hasShip&&l.classList.add("hasShip"),1==d.wasShot&&0==d.hasShip&&l.classList.add("waterHit"),1==d.wasShot&&1==d.hasShip&&l.classList.add("shipHit"),null!=d.shipName&&1==d.shipName.isSunk()&&l.classList.add("shipSunk"),0==d.hasShip&&(l.addEventListener("drop",(function(s){s.preventDefault();let d=s.dataTransfer.getData("text"),l=document.getElementById(d).getAttribute("data-orientation"),o=s.target.getAttribute("data-indexX"),c=s.target.getAttribute("data-indexY"),p=n.Gameboard.place(Number(o),Number(c),l,d);n.listOfShips.push(p),1==a.every((e=>n.listOfShips.includes(e)))?h(e,i,t,n):r(e,i,t,n)})),l.addEventListener("dragover",(function(e){1==n.Gameboard.grid[e.target.getAttribute("data-indexX")][e.target.getAttribute("data-indexY")].hasShip||1==n.Gameboard.grid[e.target.getAttribute("data-indexX")][e.target.getAttribute("data-indexY")].nearShip?e.target.style.cursor="not-allowed":e.target.style.backgroundColor="rgba(0, 0, 255, 0.5)",e.preventDefault()})),l.addEventListener("dragleave",(function(e){e.target.style.backgroundColor="white"}))),o.appendChild(l)}))}));break;case"pvc":for(;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)c.removeChild(c.firstChild);e.Gameboard.grid.forEach((i=>{i.forEach((t=>{const n=document.createElement("div");n.classList.add("cell");let a=e.Gameboard.grid.indexOf(i),r=i.indexOf(t);n.setAttribute("data-indexY",r),n.setAttribute("data-indexX",a),1==t.hasShip&&n.classList.add("hasShip"),1==t.wasShot&&0==t.hasShip&&n.classList.add("waterHit"),1==t.wasShot&&1==t.hasShip&&n.classList.add("shipHit"),null!=t.shipName&&1==t.shipName.isSunk()&&n.classList.add("shipSunk"),o.appendChild(n)}))})),i.Gameboard.grid.forEach((n=>{n.forEach((a=>{const s=document.createElement("div");s.classList.add("cell");let l=i.Gameboard.grid.indexOf(n),h=n.indexOf(a);s.setAttribute("data-indexX",l),s.setAttribute("data-indexY",h),1==a.wasShot&&1==a.hasShip&&s.classList.add("shipHit"),1==a.wasShot&&0==a.hasShip&&s.classList.add("waterHit"),null!=a.shipName&&1==a.shipName.isSunk()&&s.classList.add("shipSunk"),0==a.wasShot&&(s.addEventListener("click",(()=>{e.attackPlayer(s.getAttribute("data-indexX"),s.getAttribute("data-indexY"),i),i.computerAttack(e),r(e,i,"pvc"),d(e,i,t)})),s.addEventListener("mouseover",(function(e){e.target.style.cursor="crosshair",e.target.style.backgroundColor="rgba(255, 0, 0, 0.5)"})),s.addEventListener("mouseout",(function(e){e.target.style.backgroundColor="white"}))),c.appendChild(s)}))}));break;case"pvp":for(;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)c.removeChild(c.firstChild);if(u.querySelector(".shipList").style.display="none",u.querySelector(".rngPlace-btn").style.display="none",p.innerHTML=n===e?"Player 1's Turn":"Player 2's Turn",u.querySelector(".legend1")||u.querySelector(".legend2"))u.querySelector(".legend1").style.display="block",u.querySelector(".legend2").style.display="block";else{const e=document.createElement("div"),i=document.createElement("div");e.classList.add("legend1"),i.classList.add("legend2"),e.innerHTML="Your Ships Grid",i.innerHTML="Your Attack Grid",u.appendChild(e),u.appendChild(i)}n.Gameboard.grid.forEach((e=>{e.forEach((i=>{const t=document.createElement("div");t.classList.add("cell");let a=n.Gameboard.grid.indexOf(e),r=e.indexOf(i);t.setAttribute("data-indexY",r),t.setAttribute("data-indexX",a),1==i.hasShip&&t.classList.add("hasShip"),1==i.wasShot&&0==i.hasShip&&t.classList.add("waterHit"),1==i.wasShot&&1==i.hasShip&&t.classList.add("shipHit"),null!=i.shipName&&1==i.shipName.isSunk()&&t.classList.add("shipSunk"),o.appendChild(t)}))}));let S=n===e?i:e;S.Gameboard.grid.forEach((a=>{a.forEach((r=>{const s=document.createElement("div");s.classList.add("cell");let l=S.Gameboard.grid.indexOf(a),o=a.indexOf(r);s.setAttribute("data-indexX",l),s.setAttribute("data-indexY",o),1==r.wasShot&&1==r.hasShip&&s.classList.add("shipHit"),1==r.wasShot&&0==r.hasShip&&s.classList.add("waterHit"),null!=r.shipName&&1==r.shipName.isSunk()&&s.classList.add("shipSunk"),0==r.wasShot&&(s.addEventListener("click",(()=>{let a=n.attackPlayer(s.getAttribute("data-indexX"),s.getAttribute("data-indexY"),S);1!=d(e,i,t,S,a)&&(u.querySelector(".legend1").style.display="none",u.querySelector(".legend2").style.display="none",h(e,i,t,n))})),s.addEventListener("mouseover",(function(e){e.target.style.cursor="crosshair",e.target.style.backgroundColor="rgba(255, 0, 0, 0.5)"})),s.addEventListener("mouseout",(function(e){e.target.style.backgroundColor="white"}))),c.appendChild(s)}))}))}},s=(e,i,s,d)=>{const o=document.querySelector(".winner"),c=document.querySelector(".waiting");for(o.innerHTML="Please drag and drop your ships...";c.firstChild;)c.removeChild(c.firstChild);const p=document.createElement("ul");p.classList.add("shipList");const u=document.createElement("span");u.classList.add("tooltip"),u.innerHTML="Click to alternate orientation between 'v/h'";const S=document.createElement("li");S.innerHTML="Patrol",d.listOfShips.includes("patrol")&&(S.style.visibility="hidden"),S.setAttribute("id","patrol"),S.setAttribute("data-orientation","h"),S.setAttribute("draggable","true"),S.addEventListener("click",n);const m=document.createElement("div");m.innerHTML="Length: 1",m.style.visibility="hidden",S.addEventListener("dragstart",t),S.addEventListener("mouseover",(function(){m.style.visibility="visible"})),S.addEventListener("mouseout",(function(){m.style.visibility="hidden"})),S.appendChild(m);const y=document.createElement("li");y.innerHTML="Submarine",d.listOfShips.includes("submarine")&&(y.style.visibility="hidden"),y.setAttribute("id","submarine"),y.setAttribute("data-orientation","h"),y.setAttribute("draggable","true"),y.addEventListener("click",n);const v=document.createElement("div");v.innerHTML="Length: 2",v.style.visibility="hidden",y.addEventListener("mouseover",(function(){v.style.visibility="visible"})),y.addEventListener("mouseout",(function(){v.style.visibility="hidden"})),y.appendChild(v),y.addEventListener("dragstart",t);const f=document.createElement("li");f.innerHTML="Destroyer",d.listOfShips.includes("destroyer")&&(f.style.visibility="hidden"),f.setAttribute("id","destroyer"),f.setAttribute("data-orientation","h"),f.setAttribute("draggable","true"),f.addEventListener("click",n);const b=document.createElement("div");b.innerHTML="Length: 3",b.style.visibility="hidden",f.addEventListener("mouseover",(function(){b.style.visibility="visible"})),f.addEventListener("mouseout",(function(){b.style.visibility="hidden"})),f.appendChild(b),f.addEventListener("dragstart",t);const g=document.createElement("li");g.innerHTML="Battleship",d.listOfShips.includes("battleship")&&(g.style.visibility="hidden"),g.setAttribute("id","battleship"),g.setAttribute("data-orientation","h"),g.setAttribute("draggable","true"),g.addEventListener("click",n);const L=document.createElement("div");L.innerHTML="Length: 4",L.style.visibility="hidden",g.addEventListener("mouseover",(function(){L.style.visibility="visible"})),g.addEventListener("mouseout",(function(){L.style.visibility="hidden"})),g.appendChild(L),g.addEventListener("dragstart",t);const k=document.createElement("li");k.innerHTML="Carrier",d.listOfShips.includes("carrier")&&(k.style.visibility="hidden"),k.setAttribute("id","carrier"),k.setAttribute("data-orientation","h"),k.setAttribute("draggable","true"),k.addEventListener("click",n);const E=document.createElement("div");E.innerHTML="Length: 5",E.style.visibility="hidden",k.addEventListener("mouseover",(function(){E.style.visibility="visible"})),k.addEventListener("mouseout",(function(){E.style.visibility="hidden"})),k.appendChild(E),k.addEventListener("dragstart",t);const C=document.createElement("button");C.classList.add("rngPlace-btn"),C.innerHTML="Random",C.addEventListener("click",(()=>{l(d),"pvpPlace"==s?(1==a.every((i=>e.listOfShips.includes(i)))&&0==a.every((e=>i.listOfShips.includes(e)))&&h(e,i,s,d),1==a.every((i=>e.listOfShips.includes(i)))&&1==a.every((e=>i.listOfShips.includes(e)))&&h(e,i,"pvp",d)):r(e,i,"pvcPlace")})),p.appendChild(S),p.appendChild(y),p.appendChild(f),p.appendChild(g),p.appendChild(k),p.appendChild(u),c.appendChild(p),c.appendChild(C)},d=(e,i,t,n,a)=>{const r=document.querySelector(".player1 .attackBoard"),s=document.querySelector(".winner"),d=document.querySelector(".player1 .shipsBoard"),l=document.querySelector(".waiting"),h=document.querySelector(".lastAttack"),o=document.querySelector(".sunkShips");if("pvc"==t)if(1==e.Gameboard.checkAllSunk()&&1==i.Gameboard.checkAllSunk())d.style.visibility="hidden",r.style.visibility="hidden",l.style.visibility="hidden",s.innerHTML="It's a Tie!";else if(1==e.Gameboard.checkAllSunk()&&0==i.Gameboard.checkAllSunk())d.style.visibility="hidden",r.style.visibility="hidden",l.style.visibility="hidden",s.innerHTML="Computer Won!";else{if(0!=e.Gameboard.checkAllSunk()||1!=i.Gameboard.checkAllSunk())return;d.style.visibility="hidden",r.style.visibility="hidden",l.style.visibility="hidden",s.innerHTML="You Won!"}else if("pvp"==t){if(1==n.Gameboard.checkAllSunk())return d.style.visibility="hidden",r.style.visibility="hidden",l.style.visibility="hidden",h.style.visibility="hidden",o.style.visibility="hidden",s.innerHTML="You Won!",!0;c(e,i,t,n,a)}},l=e=>{for(let i=a.length-1;i>=0;i--)if(!e.listOfShips.includes(a[i])){let t,n=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());t=n%2==0?"v":"h";let s=e.Gameboard.place(n,r,t,a[i]);for(;void 0===s;)n=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),t=n%2==0?"v":"h",s=e.Gameboard.place(n,r,t,a[i]);e.listOfShips.push(s)}},h=(e,i,t,n)=>{const s=document.querySelector(".player1 .shipsBoard"),d=document.querySelector(".player1 .attackBoard"),l=document.querySelector(".winner"),h=document.querySelector(".waiting"),o=document.querySelector(".rngPlace-btn");s.style.display="none",d.style.display="none",h.querySelector(".shipList").style.visibility="hidden",o.style.visibility="hidden",1==a.every((i=>e.listOfShips.includes(i)))&&1==a.every((e=>i.listOfShips.includes(e)))&&(t="pvp"),l.innerHTML=n===i?"Player 1 click when ready...":"Player 2 click when ready...",n=n===e?i:e;const c=document.createElement("button");c.classList.add("readyBtn"),c.innerHTML="Ready!",c.addEventListener("click",(()=>{s.style.display="flex",d.style.display="flex",h.querySelector(".shipList").style.visibility="visible",h.removeChild(c),r(e,i,t,n)})),h.appendChild(c)},o=e=>{let i=e.Gameboard.placedShips.reduce(((e,i)=>(1==i.ship.isSunk()&&e.push(i.shipName),e)),[]);return a.filter((e=>!i.includes(e)))},c=(e,i,t,n,a)=>{const r=document.querySelector(".lastAttack"),s=document.querySelector(".sunkShips"),d=document.createElement("ul"),l=document.createElement("ul");for(;d.firstChild;)d.removeChild(d.firstChild);for(;l.firstChild;)l.removeChild(l.firstChild);for(let i of o(e)){const e=document.createElement("li");e.classList.add("unsunk"),e.innerHTML=i,d.appendChild(e)}for(let e of o(i)){const i=document.createElement("li");i.classList.add("unsunk"),i.innerHTML=e,l.appendChild(i)}n===i?(r.innerHTML="valid hit attack"==a?"Player 1's shot hit your ship! ":"Player 1's shot miss. ",s.innerHTML="List of Player 1's unsunk ships: ",s.appendChild(d)):(r.innerHTML="valid hit attack"==a?"Player 2's shot hit your ship! ":"Player 2's shot miss. ",s.innerHTML="List of Player 2's unsunk ships: ",s.appendChild(l))},p=r,u=e=>{const t=document.querySelector(".newGameBtn");t.innerHTML="Restart",t.removeEventListener("click",S),t.addEventListener("click",(function(){location.reload()})),document.querySelector(".playVs").style.display="none",(e=>{const t=i(),n=i();p(t,n,"pvc"===e?"pvcPlace":"pvpPlace")})(e)},S=()=>{const e=document.querySelector(".playVs");"hidden"==e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden"};document.querySelector(".playVs").style.visibility="hidden",document.querySelector(".newGameBtn").addEventListener("click",S),document.querySelector("button.PvC").addEventListener("click",(()=>u("pvc"))),document.querySelector("button.PvP").addEventListener("click",(()=>u("pvp")))})();